@model IEnumerable<HOA_DON>

<div class="Tb-Container mt-3">
    <table class="table_user responsive-table">
        <thead>
            <tr>
                <th> ID</th>
                <th> Họ Tên</th>
                <th> Đơn Giá</th>
                <th> Ngày tạo</th>
                <th> Trạng Thái</th>
                <th> Ghi Chú</th>
                <th> Chỉnh sửa</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                string status;
                if (item.TrangThai == 0)
                {
                    status = "Chờ xác nhận";
                }
                else
                {
                    status = "Đã xác nhận";
                }

                // Lấy index của đơn hàng trong danh sách để truy xuất giá tương ứng
                int index = Model.ToList().FindIndex(x => x.MaHD == item.MaHD);

                <tr>
                    <td>@item.MaHD</td>
                    <td>@item.GIO_HANG.NGUOI_DUNG.TenND</td>
                    <td>@ViewBag.TotalPrices[index]</td> <!-- Hiển thị giá tương ứng -->
                    <td>@item.NgayTao.ToShortDateString()</td>
                    <td>@status</td>
                    <td></td>
                    <td class="ND_Table_Icon d-flex justify-content-around">
                        <div class="bgr-x">
                            <a class="btn btn-cam" asp-controller="DonHang" asp-action="Accept" asp-route-id="@item.MaHD">
                                Xác Nhận
                            </a>
                        </div>
                        <div class="bgr-x">
                            <a class="btn btn-danger delete-btn" data-id="">
                                Hủy
                            </a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
